<!DOCTYPE html>

<html lang="en">
<head>
  <title>Simulation/Output/SSM_Device - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../../logo.png" width="374" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">&nbsp;</div>
      <div id="logo_text2">&nbsp;</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo.dlr.de/">Home</a></li>

        <li class="sub"><a href="../../Downloads.html">Download</a></li>

        <li class="sub"><a href="../../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "https://github.com/DLR-TS/sumo/issues">Issue Tracker</a></li>

        <li class="sub"><a href="../../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "https://github.com/DLR-TS/sumo">GitHub Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li>Introduction</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li>Basic Usage</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../../Installing.html">Installing SUMO</a></li>
  <li><a href="../../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../../Tutorials.html">Tutorials</a></li>
  <li><a href="../../XMLValidation.html">Validating application inputs</a></li>
</ul></li>
  <li>Network Building</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../../Networks/Import/OpenStreetMap.html">from OpenStreetMap</a></li>
<li style="list-style: none; display: inline"><ul>
     <li><a href="../../Networks/Import/OpenStreetMap.html#3-click_scenario_generation">3-Click Scenario Generator</a></li>
</ul></li>
    <li><a href="../../Networks/Import/VISUM.html">from VISUM</a></li>
    <li><a href="../../Networks/Import/Vissim.html">from Vissim</a></li>
    <li><a href="../../Networks/Import/OpenDRIVE.html">from OpenDRIVE</a></li>
    <li><a href="../../Networks/Import/MATsim.html">from MATsim</a></li>
    <li><a href="../../Networks/Import/ArcView.html">from ArcView (shapefiles)</a></li>
    <li><a href="../../Networks/Import/DlrNavteq.html">from DlrNavTeq</a></li>
    <li><a href="../../Networks/Import/RoboCup.html">from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../../Simulation/Motorways.html#Building_a_network_for_motorway_simulation">Building networks for motorway simulation</a></li>
   <li><a href="../../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
  <li><a href="../../NETEDIT.html">Creating and modifying networks with NETEDIT</a></li>
  <li><a href="../../Networks/Elevation.html">Including elevation data</a></li>
  <li><a href="../../Geo-Coordinates.html">Geo-Coordinates</a></li>
</ul></li>
  <li>Demand Modelling</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../../IntermodalRouting.html">Intermodal Routing</a></li>
  <li><a href="../../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
  <li><a href="../../Simulation/Pedestrians.html#Generating_pedestrian_demand">Generating pedestrian traffic demand</a></li>
  <li><a href="../../Tools/Misc.html#createVehTypeDistributions.py">Generate a vehicle type distribution to model the fleet</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
  <li><a href="../../Tools/Import/OSM.html#osmWebWizard.py">Multi-modal random traffic</a></li>
</ul></li>
  <li>Simulation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li><a href="../../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../../Simulation/SaveAndLoad.html">Saving and Loading Simulation State</a></li>
</ul></li>
  <li> Traffic Management and Other Structures </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
  <li><a href="../../Simulation/Public_Transport.html">Public Transport</a></li>
  <li><a href="../../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
  <li><a href="../../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
  <li><a href="../../Simulation/Vaporizer.html">Vaporizer</a></li>
  <li><a href="../../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
  <li><a href="../../Simulation/ParkingArea.html">Parking areas</a></li>
</ul></li>
  <li> Traffic Modes </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../../Simulation/Bicycles.html">Bicycle simulation</a></li>
  <li><a href="../../Simulation/Railways.html">Railway simulation</a></li>
  <li><a href="../../Simulation/Waterways.html">Waterway simulation</a></li>
</ul></li>
  <li> Additional Features </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Models/Emissions.html">Emissions</a></li>
  <li><a href="../../Models/Electric.html">Electric Vehicles</a></li>
  <li><a href="../../Specification/Logistics.html">Logistics</a></li>
  <li><a href="../../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li><a href="../../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../../Simulation/Bluetooth.html">Wireless Device Detection</a></li>
  <li><a href="../../Simulation/Emergency.html">Emergency Vehicles</a></li>
</ul></li>
  <li> Model details </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../../Simulation/VehicleInsertion.html">Vehicle insertion</a></li>
  <li><a href="../../Simulation/VehiclePermissions.html">Vehicle permissions (access restrictions)</a></li>
  <li><a href="../../Simulation/Intersections.html">Intersection dynamics</a></li>
  <li><a href="../../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../../Simulation/Routing.html">Routing and Re-routing</a></li>
  <li><a href="../../Simulation/SublaneModel.html">Sublane Model</a></li>
  <li><a href="../../Simulation/OppositeDirectionDriving.html">Opposite Direction Driving</a></li>
  <li><a href="../../Simulation/Safety.html">Safety</a></li>
  <li><a href="../../Simulation/Meso.html">Mesoscopic model</a></li>
</ul></li>
  <li> Common Problems </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
  <li><a href="../../FAQ.html#The_simulation_has_lots_of_jams.2Fdeadlocks._What_can_I_do.3F">Unexpected jamming</a></li>
  <li><a href="../../FAQ.html#Why_do_the_vehicles_perform_unexpected_lane-changing_maneuvers.3F">Unexpected lane-changing maneuvers?</a></li>
  <li><a href="../../FAQ.html#How_do_I_get_high_flows.2Fvehicle_densities.3F">How to get high flows?</a></li>
</ul></li>
  <li><a href="../../Tools/Main.html">Additional Tools</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Tools/Import/OSM.html#osmWebWizard.py">osmWebWizard</a></li>
  <li><a href="../../TraCI/Interfacing_TraCI_from_Python.html">TraCI/Interfacing_TraCI_from_Python</a></li>
  <li><a href="../../Tools/Sumolib.html">Reading SUMO networks and outputs with Python (sumolib)</a></li>
  <li><a href="../../Tools/Xml.html">Tools for converting SUMO outputs to CSV/Spreadsheet</a></li>
  <li><a href="../../Tools/TraceExporter.html">Exporting mobility Traces (traceExporter)</a></li>
  <li><a href="../../Tools/Net.html#netdiff.py">Determining the differences between two networks</a></li>
  <li><a href="../../Tools/Visualization.html">Tools/Visualization</a></li>
  <li><a href="../../Tools/Main.html">Tool index</a></li>
</ul></li>
  <li>Theory</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../SUMO.html">SUMO</a></li>
  <li><a href="../../SUMO-GUI.html">SUMO-GUI</a></li>
  <li><a href="../../NETCONVERT.html">NETCONVERT</a></li>
  <li><a href="../../NETEDIT.html">NETEDIT</a></li>
  <li><a href="../../NETGENERATE.html">NETGENERATE</a></li>
  <li><a href="../../OD2TRIPS.html">OD2TRIPS</a></li>
  <li><a href="../../DUAROUTER.html">DUAROUTER</a></li>
  <li><a href="../../JTRROUTER.html">JTRROUTER</a></li>
  <li><a href="../../DFROUTER.html">DFROUTER</a></li>
  <li><a href="../../MAROUTER.html">MAROUTER</a></li>
  <li><a href="../../POLYCONVERT.html">POLYCONVERT</a></li>
  <li><a href="../../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
  <li><a href="../../Tools/Emissions.html">EMISSIONSMAP</a></li>
  <li><a href="../../Tools/Emissions.html">EMISSIONSDRIVINGCYCLE</a></li>
</ul></li>
  <li>Appendices</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../../ChangeLog.html">ChangeLog</a></li>
  <li><a href="../../Other/Glossary.html">Glossary</a></li>
  <li><a href="../../FAQ.html">FAQ</a></li>
  <li><a href="../../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../../Other/File_Extensions.html">Known File Extensions</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo.dlr.de/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../../pydoc/traci.html">traci</a></li>

              <li><a href="../../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>

          <li>Java Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../../javadoc/traci4j/">TraCI4J</a></li>

              <li><a href="../../../javadoc/traas/">TraaS</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Simulation/Output/SSM Device</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">generated on 2018-12-18 00:19:50.214646 from <a href="http://sumo.dlr.de/wiki/Simulation/Output/SSM_Device">the wiki page for Simulation/Output/SSM_Device</a> for SUMO 1.1.0</div>
								<div id="contentSub"></div>
												
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Equipping_vehicles"><span class="tocnumber">1</span> <span class="toctext">Equipping vehicles</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Parameters"><span class="tocnumber">2</span> <span class="toctext">Parameters</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Encounter_types"><span class="tocnumber">3</span> <span class="toctext">Encounter types</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Available_SSMs"><span class="tocnumber">4</span> <span class="toctext">Available SSMs</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#TTC"><span class="tocnumber">4.1</span> <span class="toctext">TTC</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#DRAC"><span class="tocnumber">4.2</span> <span class="toctext">DRAC</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#PET"><span class="tocnumber">4.3</span> <span class="toctext">PET</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#BR"><span class="tocnumber">4.4</span> <span class="toctext">BR</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#SGAP"><span class="tocnumber">4.5</span> <span class="toctext">SGAP</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#TGAP"><span class="tocnumber">4.6</span> <span class="toctext">TGAP</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Output"><span class="tocnumber">5</span> <span class="toctext">Output</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Equipping_vehicles">Equipping vehicles</span></h2>
<p>A vehicle can be equipped with an SSM Device which logs the conflicts of the vehicle and other traffic participants (currently only vehicles) and corresponding safety surrogate measures. To attach an SSM device to a vehicle, the <a href="../../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html#Devices" title="Definition of Vehicles, Vehicle Types, and Routes">standard device-equipment procedures</a> can be applied using <code>&lt;device name&gt;=ssm</code>.
</p><p>For instance, a single vehicle can be equipped (with a device parametrized by default values) as in the following minimal example
</p>
<pre class="xml">
&lt;routes&gt;
    ...
    &lt;vehicle id=&quot;v0&quot; route=&quot;route0&quot; depart=&quot;0&quot;&gt;
        &lt;param key=&quot;has.ssm.device&quot; value=&quot;true&quot;/&gt;
    &lt;/vehicle&gt;
    ....
&lt;/routes&gt;
</pre>
<p>The SSM device generates an output file (one for each vehicle named <code>ssm_&lt;vehicleID&gt;.xml</code> per default, but several vehicles may write to the same file). The top level elements of the generated file are 
</p><p><code>&lt;conflict begin="&lt;log-begin-time&gt;" end="&lt;log-end-time&gt;" ego="&lt;equipped-vehicleID&gt;" foe="&lt;opponent-vehicleID&gt;"&gt; ... &lt;/conflict&gt;</code>.
</p><p>The detail of information given for each conflict and the criteria to qualify an encounter as a conflict (i.e., produce a corresponding <code>conflict</code> element in the output) can be customized by a number of generic parameters to the vehicle or device, resp.. A full parametrization (redundantly assigning the default values, here) could look as follows:
</p>
<pre class="xml">
&lt;routes&gt;
    ...
    &lt;vehicle id=&quot;v0&quot; route=&quot;route0&quot; depart=&quot;0&quot;&gt;
        &lt;param key=&quot;has.ssm.device&quot; value=&quot;true&quot;/&gt;
        &lt;param key=&quot;device.ssm.measures&quot; value=&quot;TTC DRAC PET&quot;/&gt;
        &lt;param key=&quot;device.ssm.thresholds&quot; value=&quot;3.0 3.0 2.0&quot;/&gt; 
        &lt;param key=&quot;device.ssm.range&quot; value=&quot;50.0&quot; /&gt;
        &lt;param key=&quot;device.ssm.extratime&quot; value=&quot;5.0&quot; /&gt;
        &lt;param key=&quot;device.ssm.file&quot; value=&quot;ssm_v0.xml&quot; /&gt;
        &lt;param key=&quot;device.ssm.trajectories&quot; value=&quot;false&quot; /&gt;
        &lt;param key=&quot;device.ssm.geo value=&quot;false&quot; /&gt;
    &lt;/vehicle&gt;
    ....
&lt;/routes&gt;
</pre>
<h2><span class="mw-headline" id="Parameters">Parameters</span></h2>
<p>The possible parameters are summarized in the following table
</p>
<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Parameter </th>
<th>Type      </th>
<th>Default  </th>
<th>Remark
</th></tr>
<tr>
<td>measures   </td>
<td>list of strings    </td>
<td>All available SSMs</td>
<td>This space-separated list of SSM-identifiers determines, which encounter-specific SSMs are calculated for the equipped vehicle's encounters and which global measures are recorded (see <a href="#Available_SSMs">below</a>)
</td></tr>
<tr>
<td>thresholds </td>
<td>list of floats     </td>
<td>default thresholds for specified measures </td>
<td>This space-separated list of SSM-thresholds determines, which encounters are classified as conflicts (if their measurements exceed a threshold) and thus written to the output file as a <code>&lt;conflict&gt;</code>-element. The default thresholds for the available SSMs are: TTC&lt;3.0[s], DRAC&gt;3.0[m/s^2], PET&lt;2.0[s], BR&gt;0.0[m/s^2], SGAP&lt;0.2[m], TGAP&lt;[0.5s]. This list is required to have the same length as the list of measures if given. <div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br /> Currently the global measures are recorded as a single timeline for the whole simulation span and thresholds have only effect insofar a leader is looked for in the distance corresponding to the SGAP and, respectively, TGAP values.</div>
</td></tr>
<tr>
<td>range   </td>
<td>double    </td>
<td>50.0 [m] </td>
<td> The devices detection range in meters. Other vehicles are tracked as soon as the are closer than &lt;range&gt; to the the equipped vehicle <i>along the road-network</i>. A tree search is performed to find all vehicles up to range upstream and downstream to the vehicle's current position. Further, for all downstream junctions in range, an upstream search for the given range is performed.
</td></tr>
<tr>
<td>extratime   </td>
<td>double    </td>
<td>5.0 [s] </td>
<td> The extra time that an encounter is tracked on after not being associated to a potential conflict (either after crossing the conflict area, deviating from a common route, changing lanes, or because vehicles leave the device range, etc.).
</td></tr>
<tr>
<td>file   </td>
<td>string    </td>
<td> "ssm_&lt;equipped_vehicleID&gt;.xml" </td>
<td> The filename for storing the conflict information of the equipped vehicle. Several vehicles may write to the same file. Conflicts of a single vehicle are written in the order of the log-begin of the encounter.
</td></tr>
<tr>
<td>trajectories   </td>
<td>bool    </td>
<td> false </td>
<td> Whether the full time lines of the different measured values shall be written to the output. This includes logging the time values, encounter types, vehicle positions and velocities, values of the selected SSMs, and associated conflict point locations. If turned off (default) only the extremal values for the selected SSMs are written.
</td></tr>
<tr>
<td>geo   </td>
<td>bool    </td>
<td> false </td>
<td> Whether the positions in the output file shall be given in the original coordinate reference system of the network (if available).
</td></tr></table>
<h2><span class="mw-headline" id="Encounter_types">Encounter types</span></h2>
<p>Different types of encounters, e.g. crossing, merging, or lead/follow situations, may imply different calculation procedures for the safety measures. Therefore the SSM-device keeps track of these classifications and provides them in the output to allow the correct interpretation of the corresponding values.
</p><p>The following table lists the different encounter types along with their codes, which will appear in the output file. 
</p>
<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Code </th>
<th>Name      </th>
<th>Description
</th></tr>
<tr>
<td>0   </td>
<td>NOCONFLICT_AHEAD    </td>
<td> Foe vehicle is closer than range, but not on a lane conflicting with the ego's route ahead.
</td></tr>
<tr>
<td><span style="color:grey">1</span>   </td>
<td><span style="color:grey">FOLLOWING</span>    </td>
<td> <span style="color:grey">General follow/lead situation (incomplete type, used only internally).</span>
</td></tr>
<tr>
<td>2   </td>
<td>FOLLOWING_FOLLOWER   </td>
<td> Ego vehicle is following the foe vehicle.
</td></tr>
<tr>
<td>3   </td>
<td>FOLLOWING_LEADER   </td>
<td> Foe vehicle is following the ego vehicle.
</td></tr>
<tr>
<td>4   </td>
<td>ON_ADJACENT_LANES   </td>
<td> Foe vehicle is on a neighboring lane of the ego vehicle's lane, driving in the same direction.
</td></tr>
<tr>
<td><span style="color:grey">5</span>   </td>
<td><span style="color:grey">MERGING</span>   </td>
<td> <span style="color:grey">Ego and foe share an upcoming edge of their routes while the merging point for the routes is still ahead (incomplete type, only used internally).</span>
</td></tr>
<tr>
<td>6   </td>
<td>MERGING_LEADER   </td>
<td> As 5. The estimated arrival at the merge point is earlier for the foe than for the ego vehicle.
</td></tr>
<tr>
<td>7   </td>
<td>MERGING_FOLLOWER   </td>
<td> As 5. The estimated arrival at the merge point is earlier for the ego than for the foe vehicle.
</td></tr>
<tr>
<td>8   </td>
<td>MERGING_ADJACENT   </td>
<td> As 5. The Vehicles' current routes lead to adjacent lanes on the same edge.
</td></tr>
<tr>
<td><span style="color:grey">9</span>   </td>
<td><span style="color:grey">CROSSING</span>   </td>
<td> <span style="color:grey">Ego's and foe's routes have crossing edges (incomplete type, only used internally)</span>
</td></tr>
<tr>
<td>10   </td>
<td>CROSSING_LEADER   </td>
<td> As 6. The estimated arrival of the ego at the conflict point is earlier than for the foe vehicle.
</td></tr>
<tr>
<td>11   </td>
<td>CROSSING_FOLLOWER   </td>
<td> As 6. The estimated arrival of the foe at the conflict point is earlier than for the ego vehicle.
</td></tr>
<tr>
<td><span style="color:grey">12</span>   </td>
<td><span style="color:grey">EGO_ENTERED_CONFLICT_AREA</span>   </td>
<td> <span style="color:grey">The encounter is a possible crossing conflict, and the ego vehicle has entered the conflict area. (Is currently not logged -&gt; TODO)</span>
</td></tr>
<tr>
<td><span style="color:grey">13</span>   </td>
<td><span style="color:grey">FOE_ENTERED_CONFLICT_AREA</span>  </td>
<td> <span style="color:grey">The encounter is a possible crossing conflict, and the foe vehicle has entered the conflict area. (Is currently not logged -&gt; TODO)</span>
</td></tr>
<tr>
<td>14   </td>
<td>EGO_LEFT_CONFLICT_AREA   </td>
<td> The encounter has been a possible crossing conflict, but the ego vehicle has left the conflict area.
</td></tr>
<tr>
<td>15   </td>
<td>FOE_LEFT_CONFLICT_AREA   </td>
<td> The encounter has been a possible crossing conflict, but the foe vehicle has left the conflict area.
</td></tr>
<tr>
<td><span style="color:grey">16</span>   </td>
<td><span style="color:grey">BOTH_ENTERED_CONFLICT_AREA</span>   </td>
<td> <span style="color:grey">The encounter has been a possible crossing conflict, and both vehicles have entered the conflict area (auxiliary type, only used internally, is evaluated to BOTH_LEFT_CONFLICT_AREA or to COLLISION).</span>
</td></tr>
<tr>
<td>17   </td>
<td>BOTH_LEFT_CONFLICT_AREA   </td>
<td> The encounter has been a possible crossing conflict, but both vehicle have left the conflict area.
</td></tr>
<tr>
<td>18   </td>
<td>FOLLOWING_PASSED   </td>
<td> The encounter has been a following situation, but is not active any more.
</td></tr>
<tr>
<td>19   </td>
<td>MERGING_PASSED   </td>
<td> The encounter has been a merging situation, but is not active any more.
</td></tr>
<tr>
<td><span style="color:grey">111</span>   </td>
<td><span style="color:grey">COLLISION</span>   </td>
<td> <span style="color:grey">Collision (currently not implemented, might be differentiated further).</span>
</td></tr></table>
<h2><span class="mw-headline" id="Available_SSMs">Available SSMs</span></h2>
<p>Currently, the following safety surrogate measures are implemented:
</p>
<ul><li> <a href="#TTC">TTC</a> (time to collision)</li>
<li> <a href="#DRAC">DRAC</a> (deceleration rate to avoid a crash)</li>
<li> <a href="#PET">PET</a> (post encroachment time)</li></ul>
<p>Further, the following additional safety-relevant output can be generated, which will not be linked to a specific encounter:
</p>
<ul><li> <a href="#BR">BR</a> (brake rate)</li>
<li> <a href="#SGAP">SGAP</a> (spacing)</li>
<li> <a href="#TGAP">TGAP</a> (time headway)</li></ul>
<p>For the selection in the device's output, the abbreviations have to be used.
</p><p>Basically, we distinguish between three types of encounters for two vehicles:
</p>
<ul><li> Lead/follow situation</li>
<li> Crossing situation</li>
<li> Merging Situation</li></ul>
<p>Please note that some SSMs only apply to a specific encounter or are computed differently for different encounters.
For crossing and merging situations, we consider "expected" entry and exit times with respect to the conflict zone. 
For the calculation of those times for the approaching vehicles, we take into account the current deceleration of the 
vehicles, if the vehicle is not decelerating, the current speed is extrapolated as a constant (i.e., acceleration is only considered if it is negative).
</p><p>For some reference to definitions of SSMs see for instance [Guido et al. (2011) "Safety performance measures: a comparison between microsimulation and observational data"] or [Mahmud et al. (2016) "Application of proximal surrogate indicators for safety evaluation: A review of recent developments and research needs"]
</p>
<h3><span class="mw-headline" id="TTC">TTC</span></h3>
<p>The time-to-collision is defined for all follow-lead situations for which the follower is faster than the leader. It is given as
</p>
<pre>   TTC = space_gap/speed-difference.
</pre>
<p>For a crossing or merging situation the TTC is only considered defined if for the case that the expected conflict area exit time of the vehicle A is larger than the expected conflict area entry time for vehicle B, where A is the vehicle with the smaller expected conflict area entry time. If this is the case the TTC is defined as
</p>
<pre>  TTC = B's distance to conflict area entry / B's current speed.
</pre>
<h3><span class="mw-headline" id="DRAC">DRAC</span></h3>
<p>For a lead/follow-situation the DRAC (deceleration to avoid a crash) where the follower vehicle's speed is larger than the leader vehicle's speed is defined as
</p>
<pre>   DRAC = 0.5*speed_difference^2/space_gap.
</pre>
<p>For a crossing situation the DRAC is considered defined only if the expected conflict area exit time tA for the first vehicle (A) is larger than the <i>linearly extrapolated</i> conflict area entry time for the second vehicle (B). In that case, the DRAC is defined as follows:
</p>
<pre>   DRAC = 2*(speedB - distConflictB/tA)/tA.
</pre>
<p>This value is chosen such that constant deceleration with the corresponding rate would imply that B enters the conflict area exactly at time tA, when vehicle A leaves it.
</p><p>For a merging situation, both variants for the DRAC calculation must be tested and the minimal result should be applied as the appropriate value for the DRAC.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />This has still to be implemented, currently only one variant is used.</div>
<h3><span class="mw-headline" id="PET">PET</span></h3>
<p>For merging and crossing situations, the PET (post encroachment time) is defined as the difference of the leading vehicle's conflict area exit time tA and the following vehicle's conflict area entry time tB:
</p>
<pre>   PET = tB - tA.
</pre>
<p>For lead/follow situations, no PET is calculated.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />Some deficiencies of the current implementation state: 
<p>1) Currently the geometry of the conflict area is considered simplified, considering crossing lanes to be orthogonal. 
</p><p>2) The merging area is not treated (the "conflict area" for merging conflicts is actually considered as the cross section at the beginning of the common target lane.
</p><p>3) DRAC calculation for merging conflicts is still incomplete
</p>
4) Lateral conflicts for opposite or neighboring lane's traffic are ignored</div>
<p><br />
</p>
<h3><span class="mw-headline" id="BR">BR</span></h3>
<p>The brake rate is recorded at each simulation step. If the vehicle accelerates, a value of 0.0 is logged.
</p>
<h3><span class="mw-headline" id="SGAP">SGAP</span></h3>
<p>The spacing is measured as the bumper to bumper distance to the ego vehicle's leader minus the vehicle's <a href="../../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html#Vehicle_Types" title="Definition of Vehicles, Vehicle Types, and Routes">minGap</a>
</p>
<h3><span class="mw-headline" id="TGAP">TGAP</span></h3>
<p>The time headway to the leading vehicle equals spacing/speed.
</p>
<h2><span class="mw-headline" id="Output">Output</span></h2>
<p>The output for an SSM device is written to a file specified by the parameter <code>device.ssm.file</code> in the routes definition file, see <a href="#Equipping_vehicles">above</a>.
The extent of output can be controlled by the parameters <code>device.ssm.measures</code> (which SSMs to report) and <code>device.ssm.trajectories</code> (whether to report complete trajectories for vehicles, the tracked SSMs, and the encounter types).
</p><p>The resulting file contains a root element <code>&lt;SSMLog&gt;</code>, which contains several <code>&lt;conflict&gt;</code> elements and one <code>&lt;globalMeasures&gt;</code> element. Each reported <code>&lt;conflict&gt;</code> corresponds to a tracked encounter, during which an SSM's criticality threshold was exceeded during the simulation. The <code>&lt;globalMeasures&gt;</code> Elementholds a timeline for all simulated times and the corresponding values for the selected measures, which are not associated to specific conflicts, see <a href="#Available_SSMs">Available_SSMs</a>.
</p><p>An example for the contents of an output file:
</p>
<pre class="xml">
&lt;SSMLog&gt;
     &lt;conflict begin=&quot;6.50&quot; end=&quot;13.90&quot; ego=&quot;ego1&quot; foe=&quot;foe1&quot;&gt;
         &lt;timeSpan values=&quot;6.50 6.60 6.70 6.80 6.90 7.00 7.10 ...&quot;/&gt;
         &lt;typeSpan values=&quot;10 10 10 10 10 10 10 ...&quot;/&gt;
         &lt;egoPosition values=&quot;98.35,61.20 98.35,60.20 98.35,59.25 ...&quot;/&gt;
         &lt;egoVelocity values=&quot;0.00,-10.23 0.00,-9.78 0.00,-9.33 ...&quot;/&gt;
         &lt;foePosition values=&quot;76.31,48.35 77.59,48.35 78.82,48.35 ...&quot;/&gt;
         &lt;foeVelocity values=&quot;13.02,0.00 12.57,0.00 12.12,0.00 ...&quot;/&gt;
         &lt;conflictPoint values=&quot;99.23,49.46 99.23,49.46 99.23,49.46 ...&quot;/&gt;
         &lt;TTCSpan values=&quot;1.78 1.74 1.70 1.67 1.63 1.60 1.56 ...&quot;/&gt;
         &lt;minTTC time=&quot;7.40&quot; position=&quot;99.23,49.46&quot; type=&quot;10&quot; value=&quot;1.48&quot;/&gt;
         &lt;DRACSpan values=&quot;3.66 3.61 3.56 3.50 3.44 3.37 3.30 ...&quot;/&gt;
         &lt;maxDRAC time=&quot;6.50&quot; position=&quot;99.23,49.46&quot; type=&quot;10&quot; 
value=&quot;3.66&quot;/&gt;
         &lt;PET time=&quot;9.42&quot; position=&quot;99.23,49.46&quot; type=&quot;17&quot; value=&quot;0.72&quot;/&gt;
     &lt;/conflict&gt;
     &lt;conflict begin=&quot;21.50&quot; end=&quot;27.20&quot; ego=&quot;ego1&quot; foe=&quot;foe2&quot;&gt;
         ...
     &lt;/conflict&gt;
     ...
    &lt;globalMeasures ego=&quot;ToC_veh&quot;&gt;
        &lt;timeSpan values=&quot;0.00 0.10 0.20 0.30 0.40 0.50 0.60 0.70 0.80 0.90 1.00 ...&quot;/&gt;
        &lt;BRSpan values=&quot;0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 ...&quot;/&gt;
        &lt;maxBR time=&quot;363.20&quot; position=&quot;1850.01,-4.95&quot; value=&quot;5.53&quot;/&gt;
        &lt;SGAPSpan values=&quot;27.50 27.50 27.49 27.45 27.38 27.29 27.17 27.02 26.85 26.65 ...&quot;/&gt;
        &lt;minSGAP time=&quot;365.50&quot; position=&quot;1863.41,-4.95&quot; value=&quot;0.31&quot; leader=&quot;leader&quot;/&gt;
        &lt;TGAPSpan values=&quot;inf 105.77 52.86 35.19 26.33 20.99 17.41 14.85 12.91 11.39 10.16 ...&quot;/&gt;
        &lt;minTGAP time=&quot;365.30&quot; position=&quot;1863.14,-4.95&quot; value=&quot;0.23&quot; leader=&quot;leader&quot;/&gt;
    &lt;/globalMeasures&gt;
&lt;/SSMLog&gt;
</pre>
<p>Elements of type <code>&lt;conflict&gt;</code> hold the following information in their child elements:
</p>
<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Element </th>
<th>Attribute   </th>
<th>Type   </th>
<th>Description
</th></tr>
<tr>
<td>timeSpan   </td>
<td> values </td>
<td> list of floats    </td>
<td> All simulation time points within the duration of the encounter. All other entries of elements with list-type are given with respect to the corresponding time points.
</td></tr>
<tr>
<td>typeSpan </td>
<td> values  </td>
<td>list of integers <br />(Encounter type codes)   </td>
<td> Timeseries of classifications for the tracked encounter.
</td></tr>
<tr>
<td>egoPosition </td>
<td> values </td>
<td> list of 2D-coordinates </td>
<td> Timeseries of the ego vehicle's positions.
</td></tr>
<tr>
<td>egoVelocity </td>
<td> values </td>
<td> list of 2D-vectors </td>
<td> Timeseries of the ego vehicle's velocity vectors.
</td></tr>
<tr>
<td>foePosition </td>
<td> values </td>
<td> list of 2D-coordinates </td>
<td> Timeseries of the foe vehicle's positions.
</td></tr>
<tr>
<td>foeVelocity </td>
<td> values </td>
<td> list of 2D-vectors </td>
<td> Timeseries of the ego vehicle's velocity vectors.
</td></tr>
<tr>
<td>conflictPoint </td>
<td> values </td>
<td> list of 2D-coordinates </td>
<td> Timeseries of the (eventually extrapolated) coordinates of the conflict point. The <i>conflict point</i> is taken as the respective <i>entry point to the conflict area</i>.
</td></tr>
<tr>
<td>TTCSpan   </td>
<td> values </td>
<td> list of floats    </td>
<td> Timeseries of the calculated TTC values. May contain entries 'NA' corresponding to times, where TTC is not defined.
</td></tr>
<tr>
<td>DRACSpan   </td>
<td> values </td>
<td> list of floats    </td>
<td> Timeseries of the calculated DRAC values. May contain entries 'NA' corresponding to times, where DRAC is not defined.
</td></tr>
<tr>
<td>minTTC   </td>
<td> time </td>
<td> float    </td>
<td> Time point of the minimal measured value for the TTC.
</td></tr>
<tr>
<td>   </td>
<td> position </td>
<td> 2D-coordinate    </td>
<td> Coordinate of the corresponding conflict point.
</td></tr>
<tr>
<td>   </td>
<td> type </td>
<td> integer <br />(Encounter type code)  </td>
<td> <a href="#Encounter_types">Type code</a> of the corresponding encounter type. (Defines the variant of <a href="#TTC">TTC-calculation</a>.)
</td></tr>
<tr>
<td>   </td>
<td> value </td>
<td> float &gt;= 0  </td>
<td> The minimal measured TTC-value.
</td></tr>
<tr>
<td>maxDRAC   </td>
<td> time </td>
<td> float    </td>
<td> Time point of the maximal measured value for the DRAC.
</td></tr>
<tr>
<td>   </td>
<td> position </td>
<td> 2D-coordinate    </td>
<td> Coordinate of the corresponding conflict point.
</td></tr>
<tr>
<td>   </td>
<td> type </td>
<td> integer <br />(Encounter type code)  </td>
<td> <a href="#Encounter_types">Type code</a> of the corresponding encounter type. (Defines the variant of <a href="#DRAC">DRAC-calculation</a>.)
</td></tr>
<tr>
<td>   </td>
<td> value </td>
<td> float &gt;= 0  </td>
<td> The maximal measured DRAC-value.
</td></tr>
<tr>
<td>PET   </td>
<td> time </td>
<td> float    </td>
<td> Time point of the minimal measured value for the PET. (Usually the PET is only measured once, therefore no PETSpan is reported.)
</td></tr>
<tr>
<td>   </td>
<td> position </td>
<td> 2D-coordinate    </td>
<td> Coordinate of the corresponding encroachment point.
</td></tr>
<tr>
<td>   </td>
<td> type </td>
<td> integer <br />(Encounter type code)  </td>
<td> <a href="#Encounter_types">Type code</a> of the corresponding encounter type.
</td></tr>
<tr>
<td>   </td>
<td> value </td>
<td> float &gt;= 0  </td>
<td> The measured PET-value.
</td></tr></table>
<p><br />
The <code>&lt;globalMeasures&gt;</code> element has the following structure:
</p>
<table border="1" cellpadding="5" cellspacing="0">
<tr>
<th>Element </th>
<th>Attribute   </th>
<th>Type   </th>
<th>Description
</th></tr>
<tr>
<td>timeSpan   </td>
<td> values </td>
<td> list of floats    </td>
<td> Simulation time points at which the reported measures are logged.
</td></tr>
<tr>
<td>BRSpan     </td>
<td> values </td>
<td> list of floats    </td>
<td> Values of the brake rate at the time points given in timeSpan.
</td></tr>
<tr>
<td>SGAPSpan   </td>
<td> values </td>
<td> list of floats    </td>
<td> Values of the spacing at the time points given in timeSpan.
</td></tr>
<tr>
<td>TGAPSpan   </td>
<td> values </td>
<td> list of floats    </td>
<td> Values of the time headway at the time points given in timeSpan.
</td></tr>
<tr>
<td>maxBR      </td>
<td> time   </td>
<td> float             </td>
<td> Time at which the maximal value of the brake rate was recorded.
</td></tr>
<tr>
<td>           </td>
<td> value  </td>
<td> float             </td>
<td> Maximal recorded value for the brake rate.
</td></tr>
<tr>
<td>           </td>
<td> position </td>
<td> 2D-coordinate   </td>
<td> Position of the ego vehicle, where the maximal brake rate was recorded.
</td></tr>
<tr>
<td>minSGAP    </td>
<td> time   </td>
<td> float             </td>
<td> Time at which the minimal spacing was recorded.
</td></tr>
<tr>
<td>           </td>
<td> value  </td>
<td> float             </td>
<td> Minimal recorded value for the spacing.
</td></tr>
<tr>
<td>           </td>
<td> position </td>
<td> 2D-coordinate   </td>
<td> Position of the ego vehicle, where the minimal spacing was recorded.
</td></tr>
<tr>
<td>minTGAP    </td>
<td> time   </td>
<td> float             </td>
<td> Time at which the minimal time headway was recorded.
</td></tr>
<tr>
<td>           </td>
<td> value  </td>
<td> float             </td>
<td> Minimal recorded value for the time headway.
</td></tr>
<tr>
<td>           </td>
<td> position </td>
<td> 2D-coordinate   </td>
<td> Position of the ego vehicle, where the minimal time headway was recorded.
</td></tr>
</table>

<!-- 
NewPP limit report
CPU time usage: 0.032 seconds
Real time usage: 0.033 seconds
Preprocessor visited node count: 106/1000000
Preprocessor generated node count: 216/1000000
Postâ€expand include size: 1190/2097152 bytes
Template argument size: 782/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.235      1 - -total
 74.50%    1.665      3 - Template:Note
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:849-0!*!0!!en!*!* and timestamp 20181217003417 and revision id 10896
 -->
</div>									</div><hr/><div id="lastmod">This page was last modified on 13 June 2018, at 15:01.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2017, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
