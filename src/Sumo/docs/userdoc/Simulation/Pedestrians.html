<!DOCTYPE html>

<html lang="en">
<head>
  <title>Simulation/Pedestrians - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../logo.png" width="374" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">&nbsp;</div>
      <div id="logo_text2">&nbsp;</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo.dlr.de/">Home</a></li>

        <li class="sub"><a href="../Downloads.html">Download</a></li>

        <li class="sub"><a href="../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "https://github.com/DLR-TS/sumo/issues">Issue Tracker</a></li>

        <li class="sub"><a href="../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "https://github.com/DLR-TS/sumo">GitHub Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li>Introduction</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li>Basic Usage</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../Installing.html">Installing SUMO</a></li>
  <li><a href="../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../Tutorials.html">Tutorials</a></li>
  <li><a href="../XMLValidation.html">Validating application inputs</a></li>
</ul></li>
  <li>Network Building</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../Networks/Import/OpenStreetMap.html">from OpenStreetMap</a></li>
<li style="list-style: none; display: inline"><ul>
     <li><a href="../Networks/Import/OpenStreetMap.html#3-click_scenario_generation">3-Click Scenario Generator</a></li>
</ul></li>
    <li><a href="../Networks/Import/VISUM.html">from VISUM</a></li>
    <li><a href="../Networks/Import/Vissim.html">from Vissim</a></li>
    <li><a href="../Networks/Import/OpenDRIVE.html">from OpenDRIVE</a></li>
    <li><a href="../Networks/Import/MATsim.html">from MATsim</a></li>
    <li><a href="../Networks/Import/ArcView.html">from ArcView (shapefiles)</a></li>
    <li><a href="../Networks/Import/DlrNavteq.html">from DlrNavTeq</a></li>
    <li><a href="../Networks/Import/RoboCup.html">from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../Simulation/Motorways.html#Building_a_network_for_motorway_simulation">Building networks for motorway simulation</a></li>
   <li><a href="../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
  <li><a href="../NETEDIT.html">Creating and modifying networks with NETEDIT</a></li>
  <li><a href="../Networks/Elevation.html">Including elevation data</a></li>
  <li><a href="../Geo-Coordinates.html">Geo-Coordinates</a></li>
</ul></li>
  <li>Demand Modelling</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../IntermodalRouting.html">Intermodal Routing</a></li>
  <li><a href="../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
  <li><a href="../Simulation/Pedestrians.html#Generating_pedestrian_demand">Generating pedestrian traffic demand</a></li>
  <li><a href="../Tools/Misc.html#createVehTypeDistributions.py">Generate a vehicle type distribution to model the fleet</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
  <li><a href="../Tools/Import/OSM.html#osmWebWizard.py">Multi-modal random traffic</a></li>
</ul></li>
  <li>Simulation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li><a href="../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../Simulation/SaveAndLoad.html">Saving and Loading Simulation State</a></li>
</ul></li>
  <li> Traffic Management and Other Structures </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
  <li><a href="../Simulation/Public_Transport.html">Public Transport</a></li>
  <li><a href="../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
  <li><a href="../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
  <li><a href="../Simulation/Vaporizer.html">Vaporizer</a></li>
  <li><a href="../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
  <li><a href="../Simulation/ParkingArea.html">Parking areas</a></li>
</ul></li>
  <li> Traffic Modes </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../Simulation/Bicycles.html">Bicycle simulation</a></li>
  <li><a href="../Simulation/Railways.html">Railway simulation</a></li>
  <li><a href="../Simulation/Waterways.html">Waterway simulation</a></li>
</ul></li>
  <li> Additional Features </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Models/Emissions.html">Emissions</a></li>
  <li><a href="../Models/Electric.html">Electric Vehicles</a></li>
  <li><a href="../Specification/Logistics.html">Logistics</a></li>
  <li><a href="../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li><a href="../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../Simulation/Bluetooth.html">Wireless Device Detection</a></li>
  <li><a href="../Simulation/Emergency.html">Emergency Vehicles</a></li>
</ul></li>
  <li> Model details </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../Simulation/VehicleInsertion.html">Vehicle insertion</a></li>
  <li><a href="../Simulation/VehiclePermissions.html">Vehicle permissions (access restrictions)</a></li>
  <li><a href="../Simulation/Intersections.html">Intersection dynamics</a></li>
  <li><a href="../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../Simulation/Routing.html">Routing and Re-routing</a></li>
  <li><a href="../Simulation/SublaneModel.html">Sublane Model</a></li>
  <li><a href="../Simulation/OppositeDirectionDriving.html">Opposite Direction Driving</a></li>
  <li><a href="../Simulation/Safety.html">Safety</a></li>
  <li><a href="../Simulation/Meso.html">Mesoscopic model</a></li>
</ul></li>
  <li> Common Problems </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
  <li><a href="../FAQ.html#The_simulation_has_lots_of_jams.2Fdeadlocks._What_can_I_do.3F">Unexpected jamming</a></li>
  <li><a href="../FAQ.html#Why_do_the_vehicles_perform_unexpected_lane-changing_maneuvers.3F">Unexpected lane-changing maneuvers?</a></li>
  <li><a href="../FAQ.html#How_do_I_get_high_flows.2Fvehicle_densities.3F">How to get high flows?</a></li>
</ul></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Tools/Import/OSM.html#osmWebWizard.py">osmWebWizard</a></li>
  <li><a href="../TraCI/Interfacing_TraCI_from_Python.html">TraCI/Interfacing_TraCI_from_Python</a></li>
  <li><a href="../Tools/Sumolib.html">Reading SUMO networks and outputs with Python (sumolib)</a></li>
  <li><a href="../Tools/Xml.html">Tools for converting SUMO outputs to CSV/Spreadsheet</a></li>
  <li><a href="../Tools/TraceExporter.html">Exporting mobility Traces (traceExporter)</a></li>
  <li><a href="../Tools/Net.html#netdiff.py">Determining the differences between two networks</a></li>
  <li><a href="../Tools/Visualization.html">Tools/Visualization</a></li>
  <li><a href="../Tools/Main.html">Tool index</a></li>
</ul></li>
  <li>Theory</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../SUMO.html">SUMO</a></li>
  <li><a href="../SUMO-GUI.html">SUMO-GUI</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
  <li><a href="../NETEDIT.html">NETEDIT</a></li>
  <li><a href="../NETGENERATE.html">NETGENERATE</a></li>
  <li><a href="../OD2TRIPS.html">OD2TRIPS</a></li>
  <li><a href="../DUAROUTER.html">DUAROUTER</a></li>
  <li><a href="../JTRROUTER.html">JTRROUTER</a></li>
  <li><a href="../DFROUTER.html">DFROUTER</a></li>
  <li><a href="../MAROUTER.html">MAROUTER</a></li>
  <li><a href="../POLYCONVERT.html">POLYCONVERT</a></li>
  <li><a href="../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
  <li><a href="../Tools/Emissions.html">EMISSIONSMAP</a></li>
  <li><a href="../Tools/Emissions.html">EMISSIONSDRIVINGCYCLE</a></li>
</ul></li>
  <li>Appendices</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../ChangeLog.html">ChangeLog</a></li>
  <li><a href="../Other/Glossary.html">Glossary</a></li>
  <li><a href="../FAQ.html">FAQ</a></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../Other/File_Extensions.html">Known File Extensions</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo.dlr.de/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../pydoc/traci.html">traci</a></li>

              <li><a href="../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>

          <li>Java Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../javadoc/traci4j/">TraCI4J</a></li>

              <li><a href="../../javadoc/traas/">TraaS</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Simulation/Pedestrians</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">generated on 2018-12-18 00:19:50.224696 from <a href="http://sumo.dlr.de/wiki/Simulation/Pedestrians">the wiki page for Simulation/Pedestrians</a> for SUMO 1.1.0</div>
								<div id="contentSub"></div>
												
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Pedestrian_Simulation"><span class="tocnumber">1</span> <span class="toctext">Pedestrian Simulation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Building_a_network_for_pedestrian_simulation"><span class="tocnumber">2</span> <span class="toctext">Building a network for pedestrian simulation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Generating_a_network_with_sidewalks"><span class="tocnumber">2.1</span> <span class="toctext">Generating a network with sidewalks</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Explicit_specification_of_additional_lanes"><span class="tocnumber">2.1.1</span> <span class="toctext">Explicit specification of additional lanes</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Explicit_specification_of_sidewalks"><span class="tocnumber">2.1.2</span> <span class="toctext">Explicit specification of sidewalks</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Type-base_generation"><span class="tocnumber">2.1.3</span> <span class="toctext">Type-base generation</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Heuristic_generation"><span class="tocnumber">2.1.4</span> <span class="toctext">Heuristic generation</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Permission-based_generation"><span class="tocnumber">2.1.5</span> <span class="toctext">Permission-based generation</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Adding_sidewalks_with_NETEDIT"><span class="tocnumber">2.1.6</span> <span class="toctext">Adding sidewalks with NETEDIT</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Non-exclusive_sidewalks"><span class="tocnumber">2.1.7</span> <span class="toctext">Non-exclusive sidewalks</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Generating_a_network_with_crossings_and_walkingareas"><span class="tocnumber">2.2</span> <span class="toctext">Generating a network with crossings and walkingareas</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#walkingareas"><span class="tocnumber">2.2.1</span> <span class="toctext">walkingareas</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Generating_pedestrian_demand"><span class="tocnumber">3</span> <span class="toctext">Generating pedestrian demand</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Explicit"><span class="tocnumber">3.1</span> <span class="toctext">Explicit</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Random"><span class="tocnumber">3.2</span> <span class="toctext">Random</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#OD-Based"><span class="tocnumber">3.3</span> <span class="toctext">OD-Based</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Pedestrian_Models"><span class="tocnumber">4</span> <span class="toctext">Pedestrian Models</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Model_nonInteraction"><span class="tocnumber">4.1</span> <span class="toctext">Model <i>nonInteraction</i></span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Model_striping"><span class="tocnumber">4.2</span> <span class="toctext">Model <i>striping</i></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Pedestrian_Routing"><span class="tocnumber">5</span> <span class="toctext">Pedestrian Routing</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Interaction_between_pedestrians_and_other_modes"><span class="tocnumber">6</span> <span class="toctext">Interaction between pedestrians and other modes</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#Pedestrian_Outputs"><span class="tocnumber">7</span> <span class="toctext">Pedestrian Outputs</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Pedestrian_Simulation">Pedestrian Simulation</span></h1>
<p>This page describes simulations of pedestrians in SUMO. Pedestrians are <a href="../Specification/Persons.html" title="Specification/Persons">persons that walk</a>. To build an intermodal simulation scenario with proper interactions between road vehicles and pedestrians, additional steps have to be take in comparison to a plain vehicular simulation.
When using multiple modes all edges and lanes need to have the <a href="../Simulation/VehiclePermissions.html" title="Simulation/VehiclePermissions">correct permissions to separate the different modes of traffic</a>.
</p><p>Edges that allow only pedestrian traffic are called <b>footpaths</b> in the following. For edges that allow both modes, typically the left lanes disallow pedestrians and the rightmost lane allows only pedestrian. The rightmost lane is then called a <b>sidewalk</b>.
</p>
<h1><span class="mw-headline" id="Building_a_network_for_pedestrian_simulation">Building a network for pedestrian simulation</span></h1>
<p>When walking along an edge, pedestrians use sidewalks where available. A sidewalks is a lane which allows only the sumo <span class="inlxml">vClass</span> <i>pedestrian</i>. When crossing a road at an intersection, pedestrians use special lanes of type <i>crossing</i>. The area that connects sidewalks with crossings is modeled by special lanes of the type <i>walkingarea</i>. In the following, we describe how to build a simulation network that <i>contains sidewalks</i>, <i>crossings</i> and <i>walkingareas</i>.
</p><p>When performing pedestrian routing, the router distinguishes between networks that contain <i>walkingareas</i> and those which do not. In the former, pedestrians may only cross a street whenever there is a pedestrian crossing. In the latter they may "jump" between any two edges which allow pedestrians at an intersection.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />Allmost all of the methods described below can be used for building a pedestrian network either based on an existing <i>.net.xml</i> file or while doing the initial import (i.e. from <a href="../Networks/Import/OpenStreetMap.html" title="Networks/Import/OpenStreetMap">OSM</a>). The exception is <a href="#Type-base_generation">#Type-base_generation</a> which can only be done during import.</div>
<h2><span class="mw-headline" id="Generating_a_network_with_sidewalks">Generating a network with sidewalks</span></h2>
<p>A sidewalk is a lane which only permits the vClass <i>pedestrian</i>. There are various different options for generating a network with sidewalks which are explained below. All of these options recognize the presence of an existing sidewalk and will not add another lane in that case. 
</p>
<div style="background: #ffcc44; padding: .5em; border: 1px dashed #ff8800; margin-right:10px; margin-left:10px;"><b>Caution:</b><br />The current pedestrian models assume that each simulation edge has at most one sidewalk. In order to have sidewalks at both sides of a one-way street, a simulation edge in the reverse direction (which only allows pedestrians) must be added.</div>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />The methods described below, perform checks to prevent generating duplicate sidewalks. If the rightmost lane is recognized as a sidewalk (it only permits vClass <i>pedestrian</i>) no additional sidewalk will be added.</div>
<h3><span class="mw-headline" id="Explicit_specification_of_additional_lanes">Explicit specification of additional lanes</span></h3>
<p>Sidewalks may be defined explicitly in plain XML input when describing <a href="../Networks/Building_Networks_from_own_XML-descriptions.html#Lane-specific_Definitions" title="Networks/Building Networks from own XML-descriptions" class="mw-redirect">edges (plain.edg.xml)</a>. This is done by defining an additional lane which only permits the vClass “pedestrian” and setting the appropriate width. In this case it is important to disallow pedestrians on all other lanes. Also, any pre-exisiting connection definitions must be modified to account for the new sidewalk lane. 
</p>
<h3><span class="mw-headline" id="Explicit_specification_of_sidewalks">Explicit specification of sidewalks</span></h3>
<p>Alternatively to the above method, the <span class="inlxml">&lt;edge&gt;</span> -attribute <a href="../Networks/Building_Networks_from_own_XML-descriptions.html#Edge_Descriptions" title="Networks/Building Networks from own XML-descriptions" class="mw-redirect"><span class="inlxml">sidewalkWidth</span> may be used</a>. It will cause a sidewalk of the specified width to be added to that edge, connections to be remapped and pedestrian permissions to be removed from all other lanes. 
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />The heuristic methods described below, also perform automatic connection shifting and removal of pedestrian permissions from non-sidewalk lanes</div>
<h3><span class="mw-headline" id="Type-base_generation">Type-base generation</span></h3>
<p>When importing edges with defined types, it is also possible to declare that certain types should receive a sidewalk. This can be used to automatically generate sidewalks for residential streets while omitting them for motorways when importing OSM data.
An example type file can be found in <i><b>&lt;SUMO_HOME&gt;</b></i>/data/typemap/osmNetconverPedestrians.typ.xml.
</p>
<pre>&lt;types&gt;
   &lt;type id="highway.motorway" numLanes="3" speed="44.44" priority="13" oneway="true" disallow="pedestrian bicycle"/&gt;
   &lt;type id="highway.unclassified"   numLanes="1" speed="13.89" priority="5" sidewalkWidth="2" disallow="pedestrian"/&gt;
   &lt;type id="highway.residential"    numLanes="1" speed="13.89" priority="4" sidewalkWidth="2" disallow="pedestrian"/&gt;
   &lt;type id="highway.living_street"  numLanes="1" speed="2.78"  priority="3"/&gt;
   &lt;type id="highway.service"        numLanes="1" speed="5.56"  priority="2" allow="delivery pedestrian"/&gt;
   ...
&lt;/types&gt;
</pre>
<h3><span class="mw-headline" id="Heuristic_generation">Heuristic generation</span></h3>
<p>A third option which can be used if no edge types are available is a heuristic based on edge speed. It adds a sidewalk for all edges within a given speed range. This is controlled by using the following options:
</p>
<table class="wikitable" style="width:90%">

<tr>
<th style="background:#ddffdd; vertical-align:top; width:350px"> Option
</th>
<th style="background:#ddffdd; vertical-align:top"> Description
</th></tr>
<tr>
<td style="vertical-align:top"> <span style="color: #111144; font-weight: bold; white-space: pre;">--sidewalks.guess <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;BOOL&gt;</i></a></span>
</td>
<td style="vertical-align:top"> Guess pedestrian sidewalks based on edge speed
</td></tr>
<tr>
<td style="vertical-align:top"> <span style="color: #111144; font-weight: bold; white-space: pre;">--sidewalks.guess.max-speed <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span>
</td>
<td style="vertical-align:top"> Add sidewalks for edges with a speed equal or below the given limit <i>default:13.89</i>
</td></tr>
<tr>
<td style="vertical-align:top"> <span style="color: #111144; font-weight: bold; white-space: pre;">--sidewalks.guess.min-speed <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span>
</td>
<td style="vertical-align:top"> Add sidewalks for edges with a speed above the given limit <i>default:5.8</i>
</td></tr>
<tr>
<td style="vertical-align:top"> <span style="color: #111144; font-weight: bold; white-space: pre;">--sidewalks.guess.exclude <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;ID&gt;[,&lt;ID&gt;]*</i></a></span>
</td>
<td style="vertical-align:top"> Specify a list of edges that shall not receive a sidewalk
</td></tr>
</table>
<h3><span class="mw-headline" id="Permission-based_generation">Permission-based generation</span></h3>
<p>Option <span style="color: #111144; font-weight: bold; white-space: pre;">--sidewalks.guess.from-permissons <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;BOOL&gt;</i></a></span> is suitable for networks which specify their edge permissions (such as <a href="../Networks/Import/DlrNavteq.html" title="Networks/Import/DlrNavteq">DlrNavteq</a>). It adds a sidewalk for all edges which allow pedestrians on any of their lanes. The option <span style="color: #111144; font-weight: bold; white-space: pre;">--sidewalks.guess.exclude <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;ID&gt;[,&lt;ID&gt;]*</i></a></span> applies here as well.
</p>
<h3><span class="mw-headline" id="Adding_sidewalks_with_NETEDIT">Adding sidewalks with <a href="../NETEDIT.html" title="NETEDIT">NETEDIT</a></span></h3>
<p>To add sidewalks to a set of edges in <a href="../NETEDIT.html" title="NETEDIT">NETEDIT</a> select these and right click on them. From the context-menu select <i>add special lanes-&gt;Sidewalks</i>.
</p>
<h3><span class="mw-headline" id="Non-exclusive_sidewalks">Non-exclusive sidewalks</span></h3>
<p>The following rules are used to determine the sidewalk lane in case of ambiguities:
</p>
<ul><li> if there are multiple lanes with permissions <i>pedestrian</i> the rightmost one is used</li>
<li> if there are lanes that allow only pedestrians and lanes that allow pedestrians along with other vehicle classes, the rightmost lane that <b>only</b> allows pedestrians is used</li>
<li> if there are no lanes that allow only pedestrians but some lanes that allow pedestrians along with other vehicle classes the rightmost of those lanes is used</li></ul>
<h2><span class="mw-headline" id="Generating_a_network_with_crossings_and_walkingareas">Generating a network with crossings and walkingareas</span></h2>
<p>In order to be able to cross a street at all, crossing places must defined at junctions in the network. These places model the following three situations:
</p>
<ul><li> crossing the street with priority (zebra crossing)</li>
<li> crossing the street without priority</li>
<li> crossing the street at a traffic light</li></ul>
<p>In order to be eligible for a crossing there must be sidewalks or footpaths which are separated by one or more lanes which forbid pedestrian traffic.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />If crossing should be possible between two far-away junctions, additional junctions must be inserted by splitting the edge(s) between the junctions and defining a crossing at the inserted junctions.</div>
<p>Crossings may be defined explicitly in plain XML input when describing <a href="../Networks/Building_Networks_from_own_XML-descriptions.html#Pedestrian_Crossings" title="Networks/Building Networks from own XML-descriptions" class="mw-redirect">connections (plain.con.xml) using the XML element <span class="inlxml">crossings</span></a>. They can also be placed with <a href="../NETEDIT.html#Crossings" title="NETEDIT">NETEDIT</a>.
</p><p>The second available method for adding crossing information to a network is with the option <span style="color: #111144; font-weight: bold; white-space: pre;"> --crossings.guess <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;BOOL&gt;</i></a></span>. This enables a heuristic which adds crossings wherever sidewalks with similar angle are separated by lanes which forbid pedestrians. If the edges to be crossed have sufficient distance between them or vary a by a sufficient angle, two crossings with an intermediate walking area are generated. For roads with a speed limit beyond 50km/h, crossings are only generated at tls-controlled intersections. This threshold can be set with the option <span style="color: #111144; font-weight: bold; white-space: pre;">crossings.guess.speed-threshold</span>.
To successfully generate crossings with this option <a href="../Simulation/Pedestrians.html#Generating_a_network_with_sidewalks" title="Simulation/Pedestrians">sidewalks should be defined</a> for the network.
</p>
<div style="background: #ffcc44; padding: .5em; border: 1px dashed #ff8800; margin-right:10px; margin-left:10px;"><b>Caution:</b><br />To ensure proper generation of crossings, road lanes need to prohibit pedestrians either by setting <span class="inlxml">disallow="pedestrian"</span> or by explicitly specifying all other allowed classes using attribute <span class="inlxml">allow</span> When adding sidewalks via attribute <span class="inlxml">sidewalkWidth</span> or any of the heuristics above, pedestrians will be forbidden automatically on the remaining lanes.</div>
<h3><span class="mw-headline" id="walkingareas">walkingareas</span></h3>
<p>At every junction corner multiple sidewalks footpaths and pedestrian crossings may meet. The connectivity between these elements is modeled with a <i>walkingarea</i>. These walkingareas are generated automatically as long as the option <span style="color: #111144; font-weight: bold; white-space: pre;"> --crossings.guess</span> is set or there is at least one user-defined crossing in the network. If no crossings are wanted in the network it is also possible to enable the creation of walkingareas by setting the option <span style="color: #111144; font-weight: bold; white-space: pre;"> --walkingareas</span>.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />It is not necessary to define connections between sidewalks or footpaths in a <i>.con.xml</i> file. Instead the connections to and from walkingareas are generated automatically along with the walkingareas.</div>
<p>Example:
If multiple footpaths meet at an intersection they will be automatically connected by a single walkingarea which allows connectivity in all directions.
</p><p><br />
</p>
<div style="background: #ffcc44; padding: .5em; border: 1px dashed #ff8800; margin-right:10px; margin-left:10px;"><b>Caution:</b><br />If pedestrians are simulated in a network without walkingareas, they will assume full-connectivity at every junction.</div>
<h1><span class="mw-headline" id="Generating_pedestrian_demand">Generating pedestrian demand</span></h1>
<h2><span class="mw-headline" id="Explicit">Explicit</span></h2>
<p>Pedestrian demand may be specified explicitly as described at <a href="../Specification/Persons.html#Walks" title="Specification/Persons">Specification/Persons#Walks</a> or it may be generated.
</p><p>To generate a flow of pedestrians the tool <i><b>&lt;SUMO_HOME&gt;</b></i> <b>/tools/pedestrianFlow.py</b> may also be used.
</p>
<h2><span class="mw-headline" id="Random">Random</span></h2>
<p>The tool <a href="../Tools/Trip.html#randomTrips.py" title="Tools/Trip">Tools/Trip#randomTrips.py</a> supports generating random pedestrian demand using the option <span style="color: #111144; font-weight: bold; white-space: pre;">--pedestrians</span>.
The option <span style="color: #111144; font-weight: bold; white-space: pre;">--max-dist <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span> may be used to limit the maximum air distance of pedestrian walks.
</p><p>Pedestrian demand may also arise from <a href="../IntermodalRouting.html" title="IntermodalRouting">intermodal routing</a>. One way to obtain such a scenario is with <a href="../Tools/Trip.html#randomTrips.py" title="Tools/Trip">Tools/Trip#randomTrips.py</a>  using the option <span style="color: #111144; font-weight: bold; white-space: pre;">--persontrips</span>.
</p>
<h2><span class="mw-headline" id="OD-Based">OD-Based</span></h2>
<p>The <a href="../OD2TRIPS.html" title="OD2TRIPS">OD2TRIPS</a> application generates pedestrian demand when setting the option <span style="color: #111144; font-weight: bold; white-space: pre;">--pedestrians</span>. Alternative it generates intermodal demand by setting option <span style="color: #111144; font-weight: bold; white-space: pre;">--persontrips</span>.
</p>
<h1><span class="mw-headline" id="Pedestrian_Models">Pedestrian Models</span></h1>
<p>The pedestrian model to use can be selected by using the simulation option <span style="color: #111144; font-weight: bold; white-space: pre;"> --pedestrian.model <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;STRING&gt;</i></a></span> with the available paramters being <i>nonInteracting</i> and <i>striping</i> (default is <i>striping</i>). 
The interface between the pedestrian model and the rest of the simulation was designed with the aim of having a high degree of freedom when implementing new models. It is planned to implement models with a higher level of interaction detail in the future.
</p>
<h2><span class="mw-headline" id="Model_nonInteraction">Model <i>nonInteraction</i></span></h2>
<p>This is a very basic walking model. Pedestrians walk bidirectionally along normal edges and “jump” across intersections. They maybe either be configured to complete a walk in a fixed amount of time or to move along the edges with a fixed speed. No interaction between pedestrians and vehicles or other pedestrians takes place.
This model has a very high execution speed and may be useful if the pedestrian dynamics are not important.
</p>
<h2><span class="mw-headline" id="Model_striping">Model <i>striping</i></span></h2>
<p>This model assigns 2D-coordinates within a lane (of type sidewalk, walkingarea or crossing) to each pedestrian. These coordinates which are defined relative to the leftmost side of the start of the lane are updated in every simulation step. This is in contrast to the coordinates of vehicles, which (generally) only have 1D-coordinates within their respective lane (except the case that the <a href="../Simulation/SublaneModel.html" title="Simulation/SublaneModel">sublane model</a> is used). Pedestrians advance along a lane towards the next node which may either correspond to the natural direction of the lane (forward movement) or it may opposite to the natural direction (backward movement). Thus, the x coordinate monotonically increases or decreases while on a lane. Once the end of a lane has been reached, the pedestrian is placed on the next lane (which may either be unique or determined dynamically with a routing algorithm). 
</p><p>The most important feature of pedestrian interactions is collision avoidance. To achieve this, the “striping”-model divides the lateral width of a lane into discrete stripes of fixed width. This width is user configurable using the option   <span style="color: #111144; font-weight: bold; white-space: pre;"> --pedestrian.striping.stripe-width <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span> and defaults to 0.65 m. These stripes are similar to lanes of a multi-lane road. Collision avoidance is thus reduced to maintaining sufficient distance within the same stripe. Whenever a pedestrian comes too close to another pedestrian within the same stripe it moves in the y-direction (laterally) as well as in the x-direction to change to a different stripe. The y-coordinate changes continuously which leads to situations in which a pedestrian temporarily occupies two stripes and thus needs to ensure sufficient distances in both. The algorithm for selecting the preferred stripe is based on the direction of movement (preferring evasion to the right for oncoming pedestrians) and the expected distance the pedestrian will be able to walk in that stripe without a collision.
</p><p>During every simulation step, each pedestrian advances as fast as possible while still avoiding collisions. The updates happen in a single pass for each walking direction with the pedestrian in the front being updated first and then its followers sorted by their x-coordinate. The speed in the x-direction may be reduced by a random amount with the maximum amount defined as a fraction of the maximum speed, using the global option <span style="color: #111144; font-weight: bold; white-space: pre;"> --pedestrian.striping.dawdling <a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;FLOAT&gt;</i></a></span> (defaulting to 0.2). 
As a consequence of the above movement rules, pedestrians tend to walk side by side on sidewalks of sufficient width. They wait in front of crossings in a wide queue and they form a jam if the inflow into a lane is larger than its outflow.
</p><p>More complicated movement rules apply when moving on a <i>walkingarea</i>. Here, pedestrians paths cross in multiple directions. The actual path taken across the walkingarea consists of 1-3 linear segments and is unique for each pair of adjacent sidewalks or crossings. The pedestrians on each path of these paths compute their movements as if they were on a sidewalk. However, all other pedestrians are mapped into the coordinate system of that path in order achieve collision avoidance.
</p>
<h1><span class="mw-headline" id="Pedestrian_Routing">Pedestrian Routing</span></h1>
<p>If the user does not specify a complete list of edges for walking, pedestrian will be routed according to the fastest path along the road edges. This is usually also the shortest path since edges typically have no speed restraints that are relevant to pedestrians. This type of routing may happen before the simulation starts (using <a href="../DUAROUTER.html" title="DUAROUTER">DUAROUTER</a>) or it may be done at insertion time when loading only origin and destination into the simulation. Routes may later be influenced via <a href="../TraCI/Change_Person_State.html" title="TraCI/Change Person State">TraCI</a>.
</p><p>When using the <i>striping</i>-model, pedestrians will also be routed within intersections to selected a sequence of <i>walkingareas</i> and <i>crossings</i> for moving onto the other side of the intersection. This type of routing takes the shortest part but avoids red lights if possible. The routing behavior within intersections cannot currently be influenced.
</p>
<h1><span class="mw-headline" id="Interaction_between_pedestrians_and_other_modes">Interaction between pedestrians and other modes</span></h1>
<p>A pedestrian wishing to cross the street at an uncontrolled intersection can only do so if its expected time slot for using the intersection does not interfere with that of an approaching vehicle. It should be noted that the dynamics at unprioritized crossings are conservative in estimating the time required gap. In the simulation, pedestrians will only use such a crossing if the whole length of the crossing is free of vehicles for the whole time needed to cross. 
At priority crossings, pedestrians cross without regard for vehicles.
</p><p>Vehicles are prevented from driving across a pedestrian crossing which is occupied by pedestrians. If a pedestrian is found which is not yet past the intersection point (between the crossing and the vehicles trajectory) but within a threshold distance to that point (configurable via <a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html#Junction_Model_Parameters" title="Definition of Vehicles, Vehicle Types, and Routes">junction parameter jmCrossingGap</a>) the crossing is considered to be blocked.
</p><p>When vehicles and pedestrians move on the same lane, they will do their best to avoid a collision. If a vehicle occupies the whole width of the lane and gets too close to a pedestrian, the pedestrian may briefly move to the side of the lane in order to let the vehicle pass.
</p>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />Using the model 'nonInteracting', no interactions between pedestrians and other modes take place.</div>
<h1><span class="mw-headline" id="Pedestrian_Outputs">Pedestrian Outputs</span></h1>
<p>Pedestrians are included in the following outputs:
</p>
<ul><li> <a href="../Simulation/Output/TripInfo.html" title="Simulation/Output/TripInfo">tripinfo-output</a></li>
<li> <a href="../Simulation/Output/VehRoutes.html" title="Simulation/Output/VehRoutes">vehroute-output</a></li>
<li> <a href="../Simulation/Output/FCDOutput.html" title="Simulation/Output/FCDOutput">fcd-output</a></li>
<li> <a href="../Simulation/Output/RawDump.html" title="Simulation/Output/RawDump">netstate-dump</a></li>
<li> <a href="../Simulation/Output.html#Aggregated_Traffic_Measures" title="Simulation/Output">aggregated simulation statistics</a></li></ul>

<!-- 
NewPP limit report
CPU time usage: 0.064 seconds
Real time usage: 0.067 seconds
Preprocessor visited node count: 341/1000000
Preprocessor generated node count: 912/1000000
Post‐expand include size: 6394/2097152 bytes
Template argument size: 3000/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   24.584      1 - -total
 43.65%   10.732     18 - Template:Option
 10.30%    2.532      3 - Template:Caution
  8.86%    2.178      7 - Template:XML
  8.13%    1.999      6 - Template:Note
  5.32%    1.309      5 - Template:DT_FLOAT
  5.00%    1.230      3 - Template:DT_BOOL
  4.77%    1.173      2 - Template:DT_IDList
  4.63%    1.138      1 - Template:DT_STR
  4.60%    1.130      2 - Template:SUMO
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:554-0!*!0!!en!*!* and timestamp 20181217081632 and revision id 10618
 -->
</div>									</div><hr/><div id="lastmod">This page was last modified on 17 February 2018, at 12:43.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2017, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
