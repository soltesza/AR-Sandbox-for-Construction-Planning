<!DOCTYPE html>

<html lang="en">
<head>
  <title>Developer/CodeStyle - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../logo.png" width="374" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">&nbsp;</div>
      <div id="logo_text2">&nbsp;</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo.dlr.de/">Home</a></li>

        <li class="sub"><a href="../Downloads.html">Download</a></li>

        <li class="sub"><a href="../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo.dlr.de/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "https://github.com/DLR-TS/sumo/issues">Issue Tracker</a></li>

        <li class="sub"><a href="../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "https://github.com/DLR-TS/sumo">GitHub Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li>Introduction</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li>Basic Usage</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../Installing.html">Installing SUMO</a></li>
  <li><a href="../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../Tutorials.html">Tutorials</a></li>
  <li><a href="../XMLValidation.html">Validating application inputs</a></li>
</ul></li>
  <li>Network Building</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../Networks/Import/OpenStreetMap.html">from OpenStreetMap</a></li>
<li style="list-style: none; display: inline"><ul>
     <li><a href="../Networks/Import/OpenStreetMap.html#3-click_scenario_generation">3-Click Scenario Generator</a></li>
</ul></li>
    <li><a href="../Networks/Import/VISUM.html">from VISUM</a></li>
    <li><a href="../Networks/Import/Vissim.html">from Vissim</a></li>
    <li><a href="../Networks/Import/OpenDRIVE.html">from OpenDRIVE</a></li>
    <li><a href="../Networks/Import/MATsim.html">from MATsim</a></li>
    <li><a href="../Networks/Import/ArcView.html">from ArcView (shapefiles)</a></li>
    <li><a href="../Networks/Import/DlrNavteq.html">from DlrNavTeq</a></li>
    <li><a href="../Networks/Import/RoboCup.html">from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../Simulation/Motorways.html#Building_a_network_for_motorway_simulation">Building networks for motorway simulation</a></li>
   <li><a href="../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
  <li><a href="../NETEDIT.html">Creating and modifying networks with NETEDIT</a></li>
  <li><a href="../Networks/Elevation.html">Including elevation data</a></li>
  <li><a href="../Geo-Coordinates.html">Geo-Coordinates</a></li>
</ul></li>
  <li>Demand Modelling</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../IntermodalRouting.html">Intermodal Routing</a></li>
  <li><a href="../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
  <li><a href="../Simulation/Pedestrians.html#Generating_pedestrian_demand">Generating pedestrian traffic demand</a></li>
  <li><a href="../Tools/Misc.html#createVehTypeDistributions.py">Generate a vehicle type distribution to model the fleet</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
  <li><a href="../Tools/Import/OSM.html#osmWebWizard.py">Multi-modal random traffic</a></li>
</ul></li>
  <li>Simulation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li><a href="../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../Simulation/SaveAndLoad.html">Saving and Loading Simulation State</a></li>
</ul></li>
  <li> Traffic Management and Other Structures </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
  <li><a href="../Simulation/Public_Transport.html">Public Transport</a></li>
  <li><a href="../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
  <li><a href="../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
  <li><a href="../Simulation/Vaporizer.html">Vaporizer</a></li>
  <li><a href="../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
  <li><a href="../Simulation/ParkingArea.html">Parking areas</a></li>
</ul></li>
  <li> Traffic Modes </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../Simulation/Bicycles.html">Bicycle simulation</a></li>
  <li><a href="../Simulation/Railways.html">Railway simulation</a></li>
  <li><a href="../Simulation/Waterways.html">Waterway simulation</a></li>
</ul></li>
  <li> Additional Features </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Models/Emissions.html">Emissions</a></li>
  <li><a href="../Models/Electric.html">Electric Vehicles</a></li>
  <li><a href="../Specification/Logistics.html">Logistics</a></li>
  <li><a href="../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li><a href="../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../Simulation/Bluetooth.html">Wireless Device Detection</a></li>
  <li><a href="../Simulation/Emergency.html">Emergency Vehicles</a></li>
</ul></li>
  <li> Model details </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../Simulation/VehicleInsertion.html">Vehicle insertion</a></li>
  <li><a href="../Simulation/VehiclePermissions.html">Vehicle permissions (access restrictions)</a></li>
  <li><a href="../Simulation/Intersections.html">Intersection dynamics</a></li>
  <li><a href="../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../Simulation/Routing.html">Routing and Re-routing</a></li>
  <li><a href="../Simulation/SublaneModel.html">Sublane Model</a></li>
  <li><a href="../Simulation/OppositeDirectionDriving.html">Opposite Direction Driving</a></li>
  <li><a href="../Simulation/Safety.html">Safety</a></li>
  <li><a href="../Simulation/Meso.html">Mesoscopic model</a></li>
</ul></li>
  <li> Common Problems </li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
  <li><a href="../FAQ.html#The_simulation_has_lots_of_jams.2Fdeadlocks._What_can_I_do.3F">Unexpected jamming</a></li>
  <li><a href="../FAQ.html#Why_do_the_vehicles_perform_unexpected_lane-changing_maneuvers.3F">Unexpected lane-changing maneuvers?</a></li>
  <li><a href="../FAQ.html#How_do_I_get_high_flows.2Fvehicle_densities.3F">How to get high flows?</a></li>
</ul></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Tools/Import/OSM.html#osmWebWizard.py">osmWebWizard</a></li>
  <li><a href="../TraCI/Interfacing_TraCI_from_Python.html">TraCI/Interfacing_TraCI_from_Python</a></li>
  <li><a href="../Tools/Sumolib.html">Reading SUMO networks and outputs with Python (sumolib)</a></li>
  <li><a href="../Tools/Xml.html">Tools for converting SUMO outputs to CSV/Spreadsheet</a></li>
  <li><a href="../Tools/TraceExporter.html">Exporting mobility Traces (traceExporter)</a></li>
  <li><a href="../Tools/Net.html#netdiff.py">Determining the differences between two networks</a></li>
  <li><a href="../Tools/Visualization.html">Tools/Visualization</a></li>
  <li><a href="../Tools/Main.html">Tool index</a></li>
</ul></li>
  <li>Theory</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../SUMO.html">SUMO</a></li>
  <li><a href="../SUMO-GUI.html">SUMO-GUI</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
  <li><a href="../NETEDIT.html">NETEDIT</a></li>
  <li><a href="../NETGENERATE.html">NETGENERATE</a></li>
  <li><a href="../OD2TRIPS.html">OD2TRIPS</a></li>
  <li><a href="../DUAROUTER.html">DUAROUTER</a></li>
  <li><a href="../JTRROUTER.html">JTRROUTER</a></li>
  <li><a href="../DFROUTER.html">DFROUTER</a></li>
  <li><a href="../MAROUTER.html">MAROUTER</a></li>
  <li><a href="../POLYCONVERT.html">POLYCONVERT</a></li>
  <li><a href="../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
  <li><a href="../Tools/Emissions.html">EMISSIONSMAP</a></li>
  <li><a href="../Tools/Emissions.html">EMISSIONSDRIVINGCYCLE</a></li>
</ul></li>
  <li>Appendices</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../ChangeLog.html">ChangeLog</a></li>
  <li><a href="../Other/Glossary.html">Glossary</a></li>
  <li><a href="../FAQ.html">FAQ</a></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../Other/File_Extensions.html">Known File Extensions</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo.dlr.de/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../pydoc/traci.html">traci</a></li>

              <li><a href="../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>

          <li>Java Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../javadoc/traci4j/">TraCI4J</a></li>

              <li><a href="../../javadoc/traas/">TraaS</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>

						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Developer/CodeStyle</h1>
						<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">generated on 2018-12-18 00:19:50.047253 from <a href="http://sumo.dlr.de/wiki/Developer/CodeStyle">the wiki page for Developer/CodeStyle</a> for SUMO 1.1.0</div>
								<div id="contentSub"></div>
												
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#C.2B.2B_Code"><span class="tocnumber">1</span> <span class="toctext">C++ Code</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Templates"><span class="tocnumber">1.1</span> <span class="toctext">Templates</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Whitespace"><span class="tocnumber">1.2</span> <span class="toctext">Whitespace</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Class_Names"><span class="tocnumber">1.3</span> <span class="toctext">Class Names</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Variable_Names"><span class="tocnumber">1.4</span> <span class="toctext">Variable Names</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Enums"><span class="tocnumber">1.5</span> <span class="toctext">Enums</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Encoding"><span class="tocnumber">1.6</span> <span class="toctext">Encoding</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.23include-statements"><span class="tocnumber">1.7</span> <span class="toctext">#include-statements</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.22using_namespace_....22-statements"><span class="tocnumber">1.8</span> <span class="toctext">"using namespace ..."-statements</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Throw-declarations"><span class="tocnumber">1.9</span> <span class="toctext">Throw-declarations</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Object_Handling"><span class="tocnumber">1.10</span> <span class="toctext">Object Handling</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Integer_Types"><span class="tocnumber">1.11</span> <span class="toctext">Integer Types</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Conditionals"><span class="tocnumber">1.12</span> <span class="toctext">Conditionals</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Loops"><span class="tocnumber">1.13</span> <span class="toctext">Loops</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Python_Code"><span class="tocnumber">2</span> <span class="toctext">Python Code</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Python3_compatibility"><span class="tocnumber">2.1</span> <span class="toctext">Python3 compatibility</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Template"><span class="tocnumber">2.2</span> <span class="toctext">Template</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Line_endings_and_keyword_replacement"><span class="tocnumber">3</span> <span class="toctext">Line endings and keyword replacement</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Checking_code_style"><span class="tocnumber">4</span> <span class="toctext">Checking code style</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="C.2B.2B_Code">C++ Code</span></h1>
<p>For the C++ code we use <a rel="nofollow" class="external text" href="http://astyle.sourceforge.net/">AStyle</a> to keep indentation and other whitespace usage consistent throughout the project. In order to make your code appear same as the original SUMO code use the following call to AStyle (or execute tools/build/apply_astyle.py before committing):
</p>
<pre>astyle --style=java --unpad-paren --pad-header --pad-oper --add-brackets --indent-switches --align-pointer=type -n &lt;FILE_NAME&gt;
</pre>
<p>Still, there are several other things you should keep in mind (The <a rel="nofollow" class="external text" href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a> is a good read as well):
</p>
<h2><span class="mw-headline" id="Templates">Templates</span></h2>
<p>Use the following templates for your files:
</p>
<ul><li> <a href="../Developer/CppFileTemplate.html" title="Developer/CppFileTemplate">Developer/CppFileTemplate</a></li>
<li> <a href="../Developer/HFileTemplate.html" title="Developer/HFileTemplate">Developer/HFileTemplate</a></li>
<li> <a href="../Developer/PyFileTemplate.html" title="Developer/PyFileTemplate">Developer/PyFileTemplate</a></li></ul>
<h2><span class="mw-headline" id="Whitespace">Whitespace</span></h2>
<ul><li> Never use <i>tab stop</i>. Only use <i>space</i>. In Visual Studio <i>tab stop</i> can be disabled in Tools/Options/Text Editor/All languages/Tabs</li></ul>
<h2><span class="mw-headline" id="Class_Names">Class Names</span></h2>
<ul><li> All class names must start with capital letter</li>
<li> The first capital letters of a class must indicates their module (<b>NB</b>Edge -&gt; <b>N</b>et <b>B</b>uild module, <b>MS</b>ChargingStation -&gt; <b>M</b>icro <b>S</b>imulation module</li>
<li> If a class name is composed of multiple words, every word must start with capital letter (Micro simulation charging station -&gt; <b>MSC</b>harging<b>S</b>tation)</li></ul>
<h2><span class="mw-headline" id="Variable_Names">Variable Names</span></h2>
<ul><li> Variables used within methods should be named using "camel-caps", f.e. "currentCarVelocity"</li>
<li> Member variables should additionally have the prefix "my", f.e. "myMaximumVehicleVelocity"</li>
<li> try not to abbreviate variable names (myMaximumVehicleVelocity instead of myMVV)</li>
<li> give names to variables which describe its purpose within the context</li>
<li> do not reuse variables for different purposes</li></ul>
<h2><span class="mw-headline" id="Enums">Enums</span></h2>
<ul><li> All enum names must start with capital letter, and If their name is composed of multiple words, every word must start with capital letter</li>
<li> All every definition must be written using capital letters (SumoXMLTag { <b>SUMO_TAG_EDGE</b>, <b>SUMO_TAG_LANE</b>,...)</li></ul>
<h2><span class="mw-headline" id="Encoding">Encoding</span></h2>
<p>Only use the plain <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> characters in <i>cpp</i> and <i>h</i> files. (0x20 - 0x7E). If you need convey extended character information use TeX or HTML notation instead.
</p>
<h2><span class="mw-headline" id=".23include-statements">#include-statements</span></h2>
<ul><li> <b>do not use backslashes (\)!</b> use slashes (/) only</li>
<li> <b>do not use absolute paths!</b>; something like #include "/home/daniel/mylibs/include_me.h" will never work somewhere else! Use relative paths and tell the compiler where the other libraries may be found. If you have problems on this, please tell us, we'll write some further documentation!</li>
<li> in general we mention the standard library includes first (like #include &lt;vector&gt;), then the includes of libraries used by SUMO (FOX / Xerces) and later our own headers</li>
<li> brackets ("&lt;" and "&gt;") are preferred for files not residing in the same directory, while quotation marks are usually used for files in the same directory.</li></ul>
<h2><span class="mw-headline" id=".22using_namespace_....22-statements">"using namespace ..."-statements</span></h2>
<ul><li> Avoid them whenever possible and especially <b>do not use "using namespace ..."-statements within the .h-files!</b> It's possible that an included library tries to use a different impementation - who knows? Using a "using namespace ..."-statement within your .h-file may yield in an unexpected behaviour.</li></ul>
<h2><span class="mw-headline" id="Throw-declarations">Throw-declarations</span></h2>
<ul><li> We are not using throw-declarations, see: <a rel="nofollow" class="external free" href="http://www.gotw.ca/publications/mill22.htm">http://www.gotw.ca/publications/mill22.htm</a> (thanks to Björn Hendriks); we'll remove the existing ones subsequently.</li></ul>
<h2><span class="mw-headline" id="Object_Handling">Object Handling</span></h2>
<ul><li> If the structure you are implementing has an id, then derive the object from <code>Named</code> (<i><b>&lt;SUMO_HOME&gt;</b></i>/src/utils/common/Named.h). This class supports the <code>std::string getID()</code>-method.</li>
<li> If you want to store something in a map pointing from string ids to object instances, then use <code>NamedObjectCont</code> (<i><b>&lt;SUMO_HOME&gt;</b></i>/src/utils/common/NamedObjectCont.h).</li></ul>
<h2><span class="mw-headline" id="Integer_Types">Integer Types</span></h2>
<ul><li> Use simple int whenever possible. There are probably lots of places in the sumo code which rely on the fact that this has at least 32 bits, so you may too.</li>
<li> Try to avoid unsigned ints whenever possible. It is sometimes not possible when calling Xerces-C and GL functions or using std::string::npos but try to limit it to those cases.</li>
<li> If you need at least 64 bit, use long long int.</li></ul>
<h2><span class="mw-headline" id="Conditionals">Conditionals</span></h2>
<ul><li> Do not use redundant condition checks. Example: <i><b>if</b> (myCondition)</i> instead of <i><b>if</b> (myCondition == <b>true</b>)</i></li></ul>
<h2><span class="mw-headline" id="Loops">Loops</span></h2>
<ul><li> Use always as possible the C++ 11 syntax. Example: <i><b>for</b> (<b>auto</b> it&#160;: myContainer)</i> instead of <i><b>for</b> (container::iterator it = myContainer.begin(); it&#160;!= myContainer.end(); it++)</i></li></ul>
<p><br />
</p>
<h1><span class="mw-headline" id="Python_Code">Python Code</span></h1>
<p>We try to adhere to the <a rel="nofollow" class="external text" href="http://www.python.org/dev/peps/pep-0008/">PEP 8 Style Guide</a>. Please remember to make your file executable if (and only if) the file should be executable (i.e. is not a module to be imported by others). Windows users please follow this <a rel="nofollow" class="external text" href="https://stackoverflow.com/questions/21691202/how-to-create-file-execute-mode-permissions-in-git-on-windows">recipe</a>. Executable files should also contain a so called shebang in the first line:
</p>
<pre>!#/usr/bin/env python
</pre>
<h2><span class="mw-headline" id="Python3_compatibility">Python3 compatibility</span></h2>
<p>Our main development still focusses on Python 2.7 but we strive for Python 3 compatibility. When writing or editing scripts, keep the following in mind:
</p>
<ul><li> use <i>print</i> as a function (<code>from __future__ import print_function</code>)</li>
<li> use <i>items</i> instead of iteritems, which will return a list under Python 2.7 and an iterator in Python 3(<code>for item in dict.items() </code>)</li>
<li> use <i>values</i> instead of <i>itervalues</i>, which will return a list under Python 2.7 and an iterator in Python 3(<code>for val in dict.values() </code>)</li>
<li> use <i>//</i> instead of <i>/</i> for integer division because <i>/</i> will do a floating point division under Python 3 (<code>4/3 = 1.3333333</code>)</li>
<li> the floating point division with <i>/</i> can be included in Python 2 by (<code>from __future__ import division</code>)</li>
<li> while iterating over unsorted lists or iterators Python 2 and Python 3 do not work in the same order. Therefore add a explicit <i>sorted</i> before iteration when you write e.g. a xml file (<code>for item in sorted(list)</code>)</li>
<li> use argparse library instead for optparse due to optparse wont be updated for Python 3 anymore. The use of most functions stayed the same, only some names differ. For further information please check <a rel="nofollow" class="external free" href="https://docs.python.org/3/library/argparse.html">https://docs.python.org/3/library/argparse.html</a></li>
<li> if you want to use different code for Python 2 and Python 3, which can be necessary since not all libraries exist for both versions, you can use a simple if else statement with the PY3 boolean defined by(<code>PY3 = sys.version_info &gt; (3,)</code>)</li>
<li> use byte type in python 3 wherever you use binary data and string type wherever you used unicode strings before. This can be made by if else statements using the PY3 boolean. See a list for the different methods possible on bytes and strings at <a rel="nofollow" class="external free" href="https://docs.python.org/3/howto/pyporting.html#text-versus-binary-data">https://docs.python.org/3/howto/pyporting.html#text-versus-binary-data</a></li></ul>
<p>For further information about possible error sources and difficulties resulting in Python 3 compatibility see also <a rel="nofollow" class="external free" href="http://python3porting.com/">http://python3porting.com/</a> and <a rel="nofollow" class="external free" href="https://docs.python.org/3/howto/pyporting.html">https://docs.python.org/3/howto/pyporting.html</a>
</p>
<h2><span class="mw-headline" id="Template">Template</span></h2>
<p>Use the following template for your files:
</p>
<ul><li> <a href="../Developer/PythonFileTemplate.html" title="Developer/PythonFileTemplate">Developer/PythonFileTemplate</a></li></ul>
<h1><span class="mw-headline" id="Line_endings_and_keyword_replacement">Line endings and keyword replacement</span></h1>
<p>We enforce special line endings for the following file types (overriding core.autocrlf settings of git) using <a rel="nofollow" class="external text" href="https://github.com/eclipse/sumo/blob/master/.gitattributes"><i><b>&lt;SUMO_HOME&gt;</b></i>/.gitattributes</a>:
</p>
<ul><li> LF for
<ul><li> source files (".h", ".cpp", ".py", ...),</li>
<li> Test files (".xml", ".prog", ".complex", ".dfrouter", ".duarouter", ".jtrrouter", ".netconvert", ".sumo", ".meso", ...)</li></ul></li>
<li> CRLF for Windows only files (".bat", ".props", ".vcxproj", ".filters", ...)</li></ul>
<p>Git has no equivalent to the svn:keywords property. We use a custom script to handle the $Id$ keyword like before but it has to be enabled manually by adding the following lines to your global .gitconfig (usually in your home directory)
</p>
<pre>  [filter "keywords"]
      clean  = .git_filters/keywords.py clean
      smudge = .git_filters/keywords.py&#160;%f
</pre>
<p>The filter is enabled for Python and C++ source files.
</p><p>For the current settings you can always look at <a rel="nofollow" class="external text" href="https://github.com/eclipse/sumo/blob/master/.gitattributes"><i><b>&lt;SUMO_HOME&gt;</b></i>/.gitattributes</a>.
</p>
<h1><span class="mw-headline" id="Checking_code_style">Checking code style</span></h1>
<p>There is a python script checking (and optionally enforcing) some code style including the header format in <a rel="nofollow" class="external text" href="https://github.com/eclipse/sumo/blob/master/tools/build/checkStyle.py"><i><b>&lt;SUMO_HOME&gt;</b></i>/tools/build/checkStyle.py</a>.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.020 seconds
Real time usage: 0.025 seconds
Preprocessor visited node count: 106/1000000
Preprocessor generated node count: 166/1000000
Post‐expand include size: 418/2097152 bytes
Template argument size: 106/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    8.422      1 - -total
 56.31%    4.743      5 - Template:SUMO
 33.88%    2.853      3 - Template:Source
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:22-0!*!0!!en!*!* and timestamp 20181217073752 and revision id 10304
 -->
</div>									</div><hr/><div id="lastmod">This page was last modified on 5 November 2017, at 21:34.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2017, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
